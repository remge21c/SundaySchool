# 관리자 페이지 검증 가이드

> 관리자 페이지 기능 검증을 위한 상세 가이드

**검증 일시**: 2026-01-13  
**배포 URL**: https://sunday-school-eta.vercel.app/  
**관리자 계정**: airemge@gmail.com / ddhqtus1

---

## 사전 준비

1. **관리자 계정 확인**
   - 이메일: `airemge@gmail.com`
   - 비밀번호: `ddhqtus1`
   - Supabase에서 `profiles` 테이블의 `role`이 `admin`인지 확인

2. **브라우저 준비**
   - Chrome 또는 Edge 권장
   - 개발자 도구(F12) 열기
   - Console 탭과 Network 탭 확인

---

## 검증 항목

### 1. 관리자 페이지 접근 확인

**URL**: https://sunday-school-eta.vercel.app/admin

#### 검증 단계

1. 관리자 계정으로 로그인
   - URL: https://sunday-school-eta.vercel.app/login
   - 이메일: `airemge@gmail.com`
   - 비밀번호: `ddhqtus1`
   - 로그인 버튼 클릭

2. 사이드바에서 "관리자" 메뉴 확인
   - 사이드바에 "관리자" 메뉴 항목이 표시되는지 확인
   - 아이콘: Settings 아이콘

3. 관리자 페이지 접근
   - 사이드바의 "관리자" 메뉴 클릭
   - 또는 직접 URL 입력: https://sunday-school-eta.vercel.app/admin

#### 예상 결과

- [ ] 관리자 페이지 정상 로드
- [ ] "관리자 페이지" 제목 표시
- [ ] "반 관리 및 교사 배정" 설명 표시
- [ ] 콘솔 에러 없음

---

### 2. 반 목록 조회 확인

#### 검증 단계

1. 관리자 페이지 접속
2. 반 목록이 표시되는지 확인
   - 부서별로 그룹화되어 표시
   - 반 이름, 학년도, 담임 교사 정보 표시

#### 예상 결과

- [ ] 반 목록 정상 표시
- [ ] 부서별 필터링 드롭다운 표시
- [ ] 각 반 카드에 다음 정보 표시:
  - [ ] 부서명 (예: 유년부)
  - [ ] 반 이름 (예: 사랑반)
  - [ ] 학년도 (예: 2026학년도)
  - [ ] 담임 교사 이름 (또는 "미배정")

---

### 3. 반 생성 기능 확인

#### 검증 단계

1. "반 생성" 버튼 클릭
2. 다이얼로그에서 다음 정보 입력:
   - 부서: 드롭다운에서 선택 (예: 유년부)
   - 반 이름: 텍스트 입력 (예: "테스트반")
   - 담임 교사: 드롭다운에서 선택 (또는 "미배정")
3. "생성" 버튼 클릭

#### 예상 결과

- [ ] 반 생성 다이얼로그 정상 표시
- [ ] 부서 드롭다운에 옵션 표시 (유년부, 초등부, 중등부, 고등부)
- [ ] 담임 교사 드롭다운에 교사 목록 표시
  - [ ] 교사 이름과 이메일이 함께 표시 (예: "홍길동 (hong@example.com)")
  - [ ] "미배정" 옵션 표시
- [ ] 반 생성 성공 시 목록에 새 반 추가
- [ ] 성공 메시지 또는 시각적 피드백 표시

---

### 4. 반 수정 기능 확인

#### 검증 단계

1. 기존 반 카드에서 "수정" 버튼(연필 아이콘) 클릭
2. 다이얼로그에서 정보 수정:
   - 부서 변경
   - 반 이름 변경
   - 담임 교사 변경
3. "저장" 버튼 클릭

#### 예상 결과

- [ ] 반 수정 다이얼로그 정상 표시
- [ ] 기존 정보가 입력 필드에 표시됨
- [ ] 담임 교사 드롭다운에 현재 담임 교사 선택됨
  - [ ] 교사 이름과 이메일이 함께 표시 (예: "홍길동 (hong@example.com)")
- [ ] 수정 후 반 목록에 변경사항 반영
- [ ] 성공 메시지 또는 시각적 피드백 표시

---

### 5. 교사 배정 기능 확인

#### 검증 단계

1. 반 카드에서 담임 교사 드롭다운 확인
2. 드롭다운에서 다른 교사 선택
3. 변경사항 자동 저장 확인

#### 예상 결과

- [ ] 담임 교사 드롭다운 정상 작동
- [ ] 교사 목록에 이름과 이메일 함께 표시 (예: "홍길동 (hong@example.com)")
- [ ] 교사 선택 시 즉시 반영
- [ ] 반 카드의 "담임" 정보 업데이트
- [ ] 성공 메시지 또는 시각적 피드백 표시

---

### 6. 담임 선택 시 교사 이름 표시 확인

#### 검증 단계

1. 반 카드의 담임 교사 드롭다운 클릭
2. SelectTrigger에 표시되는 텍스트 확인
3. 드롭다운 목록의 교사 표시 형식 확인

#### 예상 결과

- [ ] SelectTrigger에 선택된 교사 이름과 이메일 표시
  - 예: "홍길동 (hong@example.com)"
  - 미배정인 경우: "교사 선택" 표시
- [ ] 드롭다운 목록에서도 동일한 형식으로 표시
  - 예: "홍길동 (hong@example.com)"
  - 이름이 없는 경우: 이메일만 표시
- [ ] "미배정" 옵션 표시

---

### 7. 반 삭제 기능 확인

#### 검증 단계

1. 기존 반 카드에서 "삭제" 버튼(휴지통 아이콘) 클릭
2. 확인 다이얼로그에서 "확인" 클릭
3. 반 목록에서 삭제 확인

#### 예상 결과

- [ ] 삭제 확인 다이얼로그 표시
  - [ ] 경고 메시지 표시 ("이 반에 속한 모든 학생 정보도 삭제됩니다")
- [ ] 확인 클릭 시 반 목록에서 제거
- [ ] 성공 메시지 또는 시각적 피드백 표시

---

### 8. 부서별 필터링 확인

#### 검증 단계

1. 상단의 부서 필터 드롭다운 클릭
2. 각 부서 선택 (유년부, 초등부, 중등부, 고등부, 전체)
3. 반 목록 필터링 확인

#### 예상 결과

- [ ] 부서 필터 드롭다운 정상 작동
- [ ] 선택한 부서의 반만 표시
- [ ] "전체" 선택 시 모든 반 표시

---

### 9. 에러 처리 확인

#### 검증 단계

1. 네트워크 탭에서 요청 상태 확인
2. 콘솔 탭에서 에러 확인
3. 잘못된 입력 시 에러 메시지 확인

#### 예상 결과

- [ ] 네트워크 요청 정상 (200 상태 코드)
- [ ] 콘솔 에러 없음
- [ ] 에러 발생 시 명확한 에러 메시지 표시

---

## 검증 결과 기록

검증 완료 후 아래 형식으로 결과를 기록해 주세요:

### 관리자 페이지 접근
- [ ] 관리자 페이지 정상 로드
- [ ] 사이드바에 "관리자" 메뉴 표시
- [ ] 콘솔 에러 없음

### 반 목록 조회
- [ ] 반 목록 정상 표시
- [ ] 부서별 필터링 작동
- [ ] 반 카드 정보 정상 표시

### 반 생성
- [ ] 반 생성 다이얼로그 정상 표시
- [ ] 부서 선택 드롭다운 작동
- [ ] 담임 교사 선택 드롭다운 작동
  - [ ] 교사 이름과 이메일 함께 표시
- [ ] 반 생성 성공

### 반 수정
- [ ] 반 수정 다이얼로그 정상 표시
- [ ] 기존 정보 정상 로드
- [ ] 담임 교사 드롭다운에 현재 교사 선택됨
  - [ ] 교사 이름과 이메일 함께 표시
- [ ] 반 수정 성공

### 교사 배정
- [ ] 담임 교사 드롭다운 정상 작동
- [ ] 교사 선택 시 즉시 반영
- [ ] 교사 이름과 이메일 함께 표시

### 담임 선택 시 교사 이름 표시
- [ ] SelectTrigger에 교사 이름과 이메일 표시
- [ ] 드롭다운 목록에도 동일한 형식 표시
- [ ] 미배정 시 "교사 선택" 표시

### 반 삭제
- [ ] 삭제 확인 다이얼로그 표시
- [ ] 반 삭제 성공

### 부서별 필터링
- [ ] 부서 필터 드롭다운 작동
- [ ] 필터링 결과 정상 표시

### 에러 처리
- [ ] 네트워크 요청 정상
- [ ] 콘솔 에러 없음
- [ ] 에러 메시지 명확함

---

## 발견된 문제 기록

검증 중 발견된 문제가 있으면 아래 형식으로 기록해 주세요:

### 문제 1: (문제 제목)

**발견 일시**: YYYY-MM-DD  
**페이지**: 관리자 페이지  
**증상**: (문제 설명)  
**재현 방법**: (재현 단계)  
**우선순위**: (높음/중간/낮음)  
**상태**: (미해결/해결 중/해결 완료)

---

## 참고

- **관리자 계정**: airemge@gmail.com / ddhqtus1
- **관리자 페이지 URL**: https://sunday-school-eta.vercel.app/admin
- **관련 문서**: 
  - `docs/class-assignment-guide.md` - 반 배정 가이드
  - `docs/admin-manual.md` - 관리자 매뉴얼
